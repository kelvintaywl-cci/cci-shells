version: 2.1

orbs:
  myruby:
    jobs:
      test-ruby-cmd:
        docker:
          - image: cimg/ruby:3.1
        steps:
          - checkout
          - run:
              command: ruby -e "puts 123"
      test-ruby-shell:
        docker:
          - image: cimg/ruby:3.1
        steps:
          - checkout
          - run:
              shell: /usr/bin/env irb
              command: |
                puts 123

jobs:
  test-python-shell:
    docker:
      - image: cimg/python:3.8
    steps:
      - run:
          shell: /usr/bin/python3
          command: |
            place = "World"
            print("Hello " + place + "!")

workflows:
  main:
    jobs:
      - myruby/test-ruby-shell
      - test-python-shell
